<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.71.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Attributes | DPsim</title><meta property="og:title" content="Attributes"><meta property="og:description" content="Attributes, instances of the Attribute class, serve multiple purposes in DPsim:
 add meta information about variables, like read and write access in combination with tasks, they are the input required by the scheduler connect components by pointing an attribute of one component to another component&rsquo;s member variable add additional getter / setter lambda functions to variables add reflexion, which is not supported by C++ directly  Let&rsquo;s have a look at some code snippets that use attributes."><meta property="og:type" content="article"><meta property="og:url" content="https://dpsim.fein-aachen.org/docs/overview/attributes/"><meta property="article:published_time" content="2020-05-01T00:00:00+00:00"><meta property="article:modified_time" content="2020-05-01T15:05:07+02:00"><meta property="og:site_name" content="DPsim"><meta itemprop=name content="Attributes"><meta itemprop=description content="Attributes, instances of the Attribute class, serve multiple purposes in DPsim:
 add meta information about variables, like read and write access in combination with tasks, they are the input required by the scheduler connect components by pointing an attribute of one component to another component&rsquo;s member variable add additional getter / setter lambda functions to variables add reflexion, which is not supported by C++ directly  Let&rsquo;s have a look at some code snippets that use attributes."><meta itemprop=datePublished content="2020-05-01T00:00:00+00:00"><meta itemprop=dateModified content="2020-05-01T15:05:07+02:00"><meta itemprop=wordCount content="330"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Attributes"><meta name=twitter:description content="Attributes, instances of the Attribute class, serve multiple purposes in DPsim:
 add meta information about variables, like read and write access in combination with tasks, they are the input required by the scheduler connect components by pointing an attribute of one component to another component&rsquo;s member variable add additional getter / setter lambda functions to variables add reflexion, which is not supported by C++ directly  Let&rsquo;s have a look at some code snippets that use attributes."><link rel=preload href=/scss/main.min.818a933df0186c907f1faea6730835dd5fa01c3b53af36bb68396dc80a2d3c45.css as=style><link href=/scss/main.min.818a933df0186c907f1faea6730835dd5fa01c3b53af36bb68396dc80a2d3c45.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.3.1.min.js integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin=anonymous></script><title>Attributes | DPsim</title></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo></span><span class="text-uppercase font-weight-bold">DPsim</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/about/><span>About</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/blog/><span>Blog</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/community/><span>Community</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete=off></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete=off>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav pt-2 pl-4" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a></li><ul><li class="collapse show" id=docs><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/overview/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Overview</a></li><ul><li class="collapse show" id=docsoverview><a class="td-sidebar-link td-sidebar-link__page" id=m-docsoverviewarchitecture href=/docs/overview/architecture/>Architecture</a>
<a class="td-sidebar-link td-sidebar-link__page active" id=m-docsoverviewattributes href=/docs/overview/attributes/>Attributes</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsoverviewscheduling href=/docs/overview/scheduling/>Scheduling</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/getting-started/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Getting Started</a></li><ul><li class=collapse id=docsgetting-started><a class="td-sidebar-link td-sidebar-link__page" id=m-docsgetting-startedbuild href=/docs/getting-started/build/>Build</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsgetting-starteddevelopment href=/docs/getting-started/development/>Development</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsgetting-startedinstall href=/docs/getting-started/install/>Install</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsgetting-startedreal-time href=/docs/getting-started/real-time/>Real-Time</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/concepts/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Concepts</a></li><ul><li class=collapse id=docsconcepts><a class="td-sidebar-link td-sidebar-link__page" id=m-docsconceptsdyn-phasors href=/docs/concepts/dyn-phasors/>Dynamic Phasors</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsconceptsnodal-analysis href=/docs/concepts/nodal-analysis/>Nodal Analysis</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsconceptspowerflow href=/docs/concepts/powerflow/>Powerflow</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/models/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Models</a></li><ul><li class=collapse id=docsmodels><a class="td-sidebar-link td-sidebar-link__page" id=m-docsmodelsbasic-elements href=/docs/models/basic-elements/>Basic Elements</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsmodelsbranches href=/docs/models/branches/>Branches</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsmodelsinduction-machine href=/docs/models/induction-machine/>Induction Machine</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsmodelssynchronous-generator href=/docs/models/synchronous-generator/>Synchronous Generator</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsmodelspower-electronics href=/docs/models/power-electronics/>VS-Inverter</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/tasks/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Core Tasks</a></li><ul><li class=collapse id=docstasks><a class="td-sidebar-link td-sidebar-link__page" id=m-docstasksadd-model href=/docs/tasks/add-model/>Add New Model</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docstaskscreate-simulation href=/docs/tasks/create-simulation/>Create New Simulation</a></li></ul></ul><a class="td-sidebar-link td-sidebar-link__page" id=m-docsexamples href=/docs/examples/>Examples</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docstutorials href=/docs/tutorials/>Tutorials</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsreference href=/docs/reference/>Reference</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docscontribution-guidelines href=/docs/contribution-guidelines/>Contribution Guidelines</a></li></ul></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/dpsim-simulator/docs/edit/master/content/en/docs/Overview/Attributes/index.md target=_blank><i class="fa fa-edit fa-fw"></i>Edit this page</a>
<a href="https://github.com/dpsim-simulator/docs/issues/new?title=Attributes" target=_blank><i class="fab fa-github fa-fw"></i>Create documentation issue</a>
<a href=https://git.rwth-aachen.de/acs/public/simulation/dpsim/dpsim/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i>Create project issue</a></div></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://dpsim.fein-aachen.org/docs/>Documentation</a></li><li class=breadcrumb-item><a href=https://dpsim.fein-aachen.org/docs/overview/>Overview</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://dpsim.fein-aachen.org/docs/overview/attributes/>Attributes</a></li></ol></nav><div class=td-content><h1>Attributes</h1><p>Attributes, instances of the <code>Attribute</code> class, serve multiple purposes in DPsim:</p><ul><li>add meta information about variables, like read and write access</li><li>in combination with tasks, they are the input required by the scheduler</li><li>connect components by pointing an attribute of one component to another component&rsquo;s member variable</li><li>add additional getter / setter lambda functions to variables</li><li>add reflexion, which is not supported by C++ directly</li></ul><p>Let&rsquo;s have a look at some code snippets that use attributes.</p><p>Classes support attributes by inheriting from <code>AttributeList</code>:</p><pre><code>class IdentifiedObject: virtual public AttributeList {
  ...
}
</code></pre><p>New attributes are usually registered in the constructor of a class:</p><pre><code>DP::Ph1::Inductor::Inductor(String uid, String name, Logger::Level logLevel)
  ...
    addAttribute&lt;Real&gt;(&quot;L&quot;, &amp;mInductance, Flags::read | Flags::write);
}
</code></pre><p>Here, the attribute has the name <code>L</code> and points to the member variable <code>mInductance</code>.
Besides, the attribute enables reading and writing this variable.</p><p>To access an attribute, you need to know its name and the component it belongs to.
For example, adding the voltage at node <code>n1</code> to the logger for a simulation can be done as follows:</p><pre><code>logger-&gt;addAttribute(&quot;v1&quot;, n1-&gt;attributeMatrixComp(&quot;v&quot;));
</code></pre><p>Note that the voltage is a complex matrix in this case.
Since we would like to use Eigen matrix specific methods in the logger, the <code>attributeMatrixComp</code> function is used to return the attribute already casted to a complex matrix type.</p><p>Attributes are also used to determine dependencies of tasks on data, which is information required by the scheduler.
A task describing its dependencies on attributes could look like this.</p><pre><code>class MnaPostStep : public Task {
    public:
      MnaPostStep(Inductor&amp; inductor, Attribute&lt;Matrix&gt;::Ptr leftVector) :
        Task(inductor.mName + &quot;.MnaPostStep&quot;),
        mInductor(inductor), mLeftVector(leftVector) {
        mAttributeDependencies.push_back(mLeftVector);
        mModifiedAttributes.push_back(mInductor.attribute(&quot;v_intf&quot;));
        mModifiedAttributes.push_back(mInductor.attribute(&quot;i_intf&quot;));
      }
      void execute(Real time, Int timeStepCount);
    private:
      Inductor&amp; mInductor;
      Attribute&lt;Matrix&gt;::Ptr mLeftVector;
    };
</code></pre><p>Here, the MNA post step depends on the solution vector of the system, <code>leftVector</code>, and modifies <code>v_intf</code> and <code>i_intf</code>.
Therefore, this task needs to be scheduled after the system solution that computes <code>leftVector</code> and before tasks that require the voltage and current interface vectors of the inductance, e.g. the task logging these values.</p><div class="text-muted mt-5 pt-3 border-top">Last modified 01.05.2020: <a href=https://github.com/dpsim-simulator/docs/commit/8960cb74ef7343c15b34dee72c375664d478d839>add attributes (8960cb7)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank href=https://feinev.slack.com><i class="fab fa-slack"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="RWTH GitLab" aria-label="RWTH GitLab"><a class=text-white target=_blank href=https://git.rwth-aachen.de/acs/public/simulation/dpsim/dpsim><i class="fab fa-gitlab"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/DPsim-Simulator/dpsim><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank href=https://feinev.slack.com><i class="fab fa-slack"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2021 The DPsim Authors All Rights Reserved</small><p class=mt-2><a href=/about/>About DPsim</a></p></div></div></div></footer></div><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script><script src=/js/main.min.9727ddf6d3e2a36de5762932ccccea1f3d386238d03b97a8b5d1007aa41e7ce5.js integrity="sha256-lyfd9tPio23ldikyzMzqHz04YjjQO5eotdEAeqQefOU=" crossorigin=anonymous></script></body></html>